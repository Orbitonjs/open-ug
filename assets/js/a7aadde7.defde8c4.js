"use strict";(self.webpackChunkdocumetations=self.webpackChunkdocumetations||[]).push([[3565],{3175:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=o(4848),t=o(8453);const s={slug:"making-mobile-money-payments-in-python",title:"How to create Mobile Money Payments in Python in Uganda",authors:{name:"Beingana Jim Junior",title:"Open UG Team",url:"https://github.com/jim-junior",image_url:"https://avatars.githubusercontent.com/u/69729988?v=4"},tags:["python","ugmobilemoney","mtn-momo"]},r=void 0,l={permalink:"/open-ug/blog/making-mobile-money-payments-in-python",source:"@site/blog/2024-05-03-mobile-money/index.md",title:"How to create Mobile Money Payments in Python in Uganda",description:"How to create Mobile Money Payments in Python in Uganda",date:"2024-05-03T00:00:00.000Z",tags:[{label:"python",permalink:"/open-ug/blog/tags/python"},{label:"ugmobilemoney",permalink:"/open-ug/blog/tags/ugmobilemoney"},{label:"mtn-momo",permalink:"/open-ug/blog/tags/mtn-momo"}],readingTime:4.065,hasTruncateMarker:!0,authors:[{name:"Beingana Jim Junior",title:"Open UG Team",url:"https://github.com/jim-junior",image_url:"https://avatars.githubusercontent.com/u/69729988?v=4",imageURL:"https://avatars.githubusercontent.com/u/69729988?v=4"}],frontMatter:{slug:"making-mobile-money-payments-in-python",title:"How to create Mobile Money Payments in Python in Uganda",authors:{name:"Beingana Jim Junior",title:"Open UG Team",url:"https://github.com/jim-junior",image_url:"https://avatars.githubusercontent.com/u/69729988?v=4",imageURL:"https://avatars.githubusercontent.com/u/69729988?v=4"},tags:["python","ugmobilemoney","mtn-momo"]},unlisted:!1,prevItem:{title:"How to create a responsive custom video player in React",permalink:"/open-ug/blog/how-to-create-a-responsive-custom-video-player-in-react"}},a={authorsImageUrls:[void 0]},c=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installing the <code>ugmobilemoney</code> library",id:"installing-the-ugmobilemoney-library",level:2},{value:"Creating Mobile Money Payments",id:"creating-mobile-money-payments",level:2},{value:"Disbursing (Sending) Mobile Money Payments",id:"disbursing-sending-mobile-money-payments",level:2},{value:"Conclusion",id:"conclusion",level:2}];function m(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"How to create Mobile Money Payments in Python in Uganda",src:o(4436).A+"",width:"2240",height:"1260"})}),"\n",(0,i.jsxs)(n.p,{children:["In this article, we will learn how to create Mobile Money Payments in Python in Uganda using different Mobile Money APIs, while utilizing the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library."]}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(n.p,{children:"Mobile Money is a digital payment system that allows users to conduct financial transactions using their mobile phones. It is a popular payment method in Uganda, with the most popular Mobile Money service providers being MTN Mobile Money, Airtel Money, and Africell Money."}),"\n",(0,i.jsxs)(n.p,{children:["In this article, we will focus on creating Mobile Money Payments in Python in Uganda using the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library. This library provides a simple and easy-to-use interface for interacting with different Mobile Money APIs in Uganda."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library currently supports a number of Mobile Money APIs in Uganda, including:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"MTN Mobile Money API"}),"\n",(0,i.jsx)(n.li,{children:"Airtel Money API"}),"\n",(0,i.jsx)(n.li,{children:"Flutterwave API"}),"\n",(0,i.jsx)(n.li,{children:"Yo Uganda API"}),"\n",(0,i.jsx)(n.li,{children:"Xente API"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In this article, we will focus on creating Mobile Money Payments using the MTN Mobile Money API, If you want other APIs, you can check the ",(0,i.jsxs)(n.a,{href:"https://open.cranom.cloud/ugmobilemoney/intro",children:[(0,i.jsx)(n.code,{children:"ugmobilemoney"})," documentation"]}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"Before we get started, you will need to have the following prerequisites:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Python installed on your machine"}),"\n",(0,i.jsx)(n.li,{children:"An active MTN Mobile Money API key and Subscription Key"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["If you don't have an MTN Mobile Money API key or Subscription Key, you can follow this ",(0,i.jsx)(n.strong,{children:"Step by Step Guide"})," to get one: ",(0,i.jsx)(n.a,{href:"https://open.cranom.cloud/ugmobilemoney/mtn-momo/getting-started",children:"How to getting Started with MTN MOMO API"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"installing-the-ugmobilemoney-library",children:["Installing the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library"]}),"\n",(0,i.jsxs)(n.p,{children:["To get started, you will need to install the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library using ",(0,i.jsx)(n.code,{children:"pip"}),". You can do this by running the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install ugmobilemoney\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Once you have installed the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library, it should be accessible in your Python environment and ",(0,i.jsx)(n.code,{children:"mobile_money"})," module."]}),"\n",(0,i.jsx)(n.h2,{id:"creating-mobile-money-payments",children:"Creating Mobile Money Payments"}),"\n",(0,i.jsxs)(n.p,{children:["At this point, you should have the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library installed and your MTN Mobile Money API key and Subscription Key ready. Now, let's create a simple Mobile Money Payment using the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library."]}),"\n",(0,i.jsxs)(n.p,{children:["The MTN MOMO API provides differect services in form of Products. When you want to recieve money from users you use the ",(0,i.jsx)(n.a,{href:"https://momodeveloper.mtn.com/product#product=collections",children:(0,i.jsx)(n.strong,{children:"Collections"})})," Product."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library provides a simple interface to interact with each of the Products. For example if you want to use the Collections Product, you can import the ",(0,i.jsx)(n.code,{children:"Collection"})," class from the ",(0,i.jsx)(n.code,{children:"mobile_money.momo"})," module and use it to create a Mobile Money Payment."]}),"\n",(0,i.jsxs)(n.p,{children:["Here is an example of how you can create a Mobile Money Payment using the ",(0,i.jsx)(n.code,{children:"Collection"})," class:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from mobile_money.momo import Collection\nfrom mobile_money import generate_uuid\n\ncollection = Collection(\n    subscription_key=SUBSCRIPTION_KEY,\n    api_user=API_USER,\n    api_key=API_KEY,\n    callback_url="http://mydomain.com/webhooks/mtn/",\n    production=False,\n)\n\ntransaction_reference = generate_uuid()\n# Request to pay\nresponse = COLLECTION.collect(\n    amount="100",\n    phone_number="256772123456",\n    currency="UGX",\n    external_id="external id",\n    reference_id=transaction_reference,\n    payee_note="test",\n    payer_message="test",\n)\n\nprint(response)\n\n# >>> <Response [202 Accepted]>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["In this example, we first import the ",(0,i.jsx)(n.code,{children:"Collection"})," class from the ",(0,i.jsx)(n.code,{children:"ugmobilemoney.momo"})," module. We then create an instance of the ",(0,i.jsx)(n.code,{children:"Collection"})," class, passing in the required parameters such as the Subscription Key, API User, API Key, and callback URL."]}),"\n",(0,i.jsxs)(n.p,{children:["We then generate a unique transaction reference using the ",(0,i.jsx)(n.code,{children:"generate_uuid"})," function. We then call the ",(0,i.jsx)(n.code,{children:"collect"})," method on the ",(0,i.jsx)(n.code,{children:"Collection"})," instance, passing in the required parameters such as the amount, phone number, currency, external ID, reference ID, payee note, and payer message."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"collect"})," method will send a request to the MTN MOMO API to create a Mobile Money Payment. If the request is successful, the method will return a response object with a status code of ",(0,i.jsx)(n.code,{children:"202 Accepted"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"disbursing-sending-mobile-money-payments",children:"Disbursing (Sending) Mobile Money Payments"}),"\n",(0,i.jsxs)(n.p,{children:["The MTN MOMO API also provides a service for sending Mobile Money Payments in bulk to different recipients. This service is called Disbursements. You can use the ",(0,i.jsx)(n.code,{children:"Disbursement"})," class from the ",(0,i.jsx)(n.code,{children:"mobile_money.momo"})," module to send Mobile Money Payments using the Disbursements service."]}),"\n",(0,i.jsxs)(n.p,{children:["Here is an example of how you can send Mobile Money Payments using the ",(0,i.jsx)(n.code,{children:"Disbursement"})," class:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from mobile_money.momo import Disbursement\n\ndisbursement = Disbursement(\n    subscription_key=SUBSCRIPTION_KEY,\n    api_user=API_USER,\n    api_key=API_KEY,\n    callback_url="http://mydomain.com/webhooks/mtn/",\n    production=False,\n)\n\ntransaction_reference = generate_uuid()\n\nresponse = disbursement.send(\n    amount="100",\n    phone_number="256772123456",\n    currency="UGX",\n    external_id="external id",\n    reference_id=transaction_reference,\n    payee_note="test",\n    payer_message="test",\n)\n\nprint(response)\n\n# >>> <Response [202 Accepted]>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsxs)(n.p,{children:["In this article, we have learned how to create Mobile Money Payments in Python in Uganda using the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library. We have seen how to create Mobile Money Payments using the MTN Mobile Money API, and how to send Mobile Money Payments using the Disbursements service."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library also supports other Payment Providers in Uganda, such as Airtel Money, Flutterwave, Yo Uganda, and Xente, It also tries to fully implement their APIs making it not only limited to mobile money payments but also other services like Airtime Topup, Bill Payments, Card Payments as long as the Service Provider has an API for it that is well documented."]}),"\n",(0,i.jsxs)(n.p,{children:["You can learn more about the ",(0,i.jsx)(n.code,{children:"ugmobilemoney"})," library and how to use it by checking out the ",(0,i.jsx)(n.a,{href:"https://open.cranom.cloud/ugmobilemoney/intro",children:"documentation"}),". or its Code on ",(0,i.jsx)(n.a,{href:"https://github.com/open-ug/ugmobilemoney-py",children:"Github"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.digitalocean.com/?refcode=ad96e8b378d5&utm_campaign=Referral_Invite&utm_medium=Referral_Program&utm_source=badge",children:(0,i.jsx)(n.img,{src:"https://web-platforms.sfo2.cdn.digitaloceanspaces.com/WWW/Badge%201.svg",alt:"DigitalOcean Referral Badge"})})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},4436:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/banner-014a0242c773119b585f290bc5c0617d.png"},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>l});var i=o(6540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);